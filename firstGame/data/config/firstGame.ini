[Display]
Title           = Space Shooter
FullScreen      = false
Decoration      = false
Smoothing       = true
VSync           = true

[Resource]
Texture         = ../data/texture
Sound           = ../data/sound

[Physics]
AllowSleep      = false
Gravity         = (0.0, 2400.0, 0.0)
ShowDebug            = true

[Input]
SetList         = MainInput

[Scene]
TrackList       = enemyMakerTrack

[enemyMakerTrack]
1               = Object.Create spiderObject
Loop            = True

[MainInput]
KEY_ESCAPE      = Quit
KEY_A           = GoLeft
KEY_D           = GoRight
MOUSE_LEFT      = Shoot
KEY_SPACE       = Jump
KEY_X           = PickUp

[Viewport]
Camera          = Camera
BackgroundColor = (173, 216, 230)

[Camera]
FrustumWidth    = 1280
FrustumHeight   = 720
FrustumFar      = 2
FrustumNear     = 0
Position        = (0, 0, -1)

[dummyObject]
Scale           = 8
Pivot           = center

[playerObject]
Graphic         = playerGraphic
Scale           = 0.2
Position        = (0, 0, 0)
AnimationSet    = playerAnimationSet
Body            = playerBody
ChildList       = playersPistol # playersRifle

[playerGraphic]
Texture         = player_full.png
TextureOrigin   = (0, 0, 0)  
TextureSize     = (0, 0, 0)
Pivot           = center

[playerAnimationSet]
Texture         = player_full.png
FrameSize       = (1024, 1024, 0)
Pivot           = center
playerWalkRight = 8
playerWalkLeft  = 8
playerIdleRight = 4
playerIdleLeft  = 4

playerIdleRightPistol = 4
playerIdleLeftPistol = 4
playerWalkRightPistol = 8
playerWalkLeftPistol = 8

playerIdleRightRifle = 4
playerIdleLeftRifle = 4
playerWalkRightRifle = 8
playerWalkLeftRifle = 8

StartAnim       = playerIdleRight
playerIdleRight-> = playerIdleRight # playerIdleLeft # .playerWalkRight # .playerWalkLeft # .playerWalkRightPistol # .playerWalkLeftPistol # playerIdleLeftPistol # playerIdleRightPistol # playerIdleRightRifle # playerIdleLeftRifle # .playerWalkRightRifle # .playerWalkLeftRifle
playerIdleLeft-> = playerIdleLeft # playerIdleRight # .playerWalkRight # .playerWalkLeft # .playerWalkRightPistol # .playerWalkLeftPistol # playerIdleLeftPistol # playerIdleRightPistol # playerIdleRightRifle # playerIdleLeftRifle # .playerWalkRightRifle # .playerWalkLeftRifle
playerWalkRight-> = playerWalkRight # playerIdleLeft # playerIdleRight # .playerWalkLeft # .playerWalkRightPistol # .playerWalkLeftPistol # playerIdleLeftPistol # playerIdleRightPistol # playerIdleRightRifle # playerIdleLeftRifle # .playerWalkRightRifle # .playerWalkLeftRifle
playerWalkLeft-> = playerWalkLeft # playerIdleLeft # .playerWalkRight # playerIdleRight # .playerWalkRightPistol # .playerWalkLeftPistol # playerIdleLeftPistol # playerIdleRightPistol # playerIdleRightRifle # playerIdleLeftRifle # .playerWalkRightRifle # .playerWalkLeftRifle
playerIdleRightPistol-> = playerIdleRightPistol # playerIdleLeft # .playerWalkRight # .playerWalkLeft # .playerWalkRightPistol # .playerWalkLeftPistol # playerIdleLeftPistol # playerIdleRight # playerIdleRightRifle # playerIdleLeftRifle # .playerWalkRightRifle # .playerWalkLeftRifle
playerIdleLeftPistol-> = playerIdleLeftPistol # playerIdleLeft # .playerWalkRight # .playerWalkLeft # .playerWalkRightPistol # .playerWalkLeftPistol # playerIdleRightPistol # playerIdleRight # playerIdleRightRifle # playerIdleLeftRifle # .playerWalkRightRifle # .playerWalkLeftRifle
playerWalkRightPistol-> = playerWalkRightPistol # playerIdleLeft # .playerWalkRight # .playerWalkLeft # .playerWalkLeftPistol # playerIdleLeftPistol # playerIdleRightPistol # playerIdleRight # playerIdleRightRifle # playerIdleLeftRifle # .playerWalkRightRifle # .playerWalkLeftRifle
playerWalkLeftPistol-> = playerWalkLeftPistol # playerIdleLeft # .playerWalkRight # .playerWalkLeft # .playerWalkRightPistol # playerIdleLeftPistol # playerIdleRightPistol # playerIdleRight # playerIdleRightRifle # playerIdleLeftRifle # .playerWalkRightRifle # .playerWalkLeftRifle
playerIdleRightRifle-> = playerIdleRightRifle # playerIdleLeft # .playerWalkRight # .playerWalkLeft # .playerWalkRightPistol # .playerWalkLeftPistol # playerIdleLeftPistol # playerIdleRightPistol # playerIdleRight # playerIdleLeftRifle # .playerWalkRightRifle # .playerWalkLeftRifle
playerIdleLeftRifle-> = playerIdleLeftRifle # playerIdleLeft # .playerWalkRight # .playerWalkLeft # .playerWalkRightPistol # .playerWalkLeftPistol # playerIdleLeftPistol # playerIdleRightPistol # playerIdleRight # playerIdleRightRifle # .playerWalkRightRifle # .playerWalkLeftRifle
playerWalkRightRifle-> = playerWalkRightRifle # playerIdleLeft # .playerWalkRight # .playerWalkLeft # .playerWalkRightPistol # .playerWalkLeftPistol # playerIdleLeftPistol # playerIdleRightPistol # playerIdleRight # playerIdleLeftRifle # playerIdleRightRifle # .playerWalkLeftRifle
playerWalkLeftRifle-> = playerWalkLeftRifle # playerIdleLeft # .playerWalkRight # .playerWalkLeft # .playerWalkRightPistol # .playerWalkLeftPistol # playerIdleLeftPistol # playerIdleRightPistol # playerIdleRight # playerIdleLeftRifle # .playerWalkRightRifle # playerIdleRightRifle

[playerIdleRight]
KeyDuration     = 0.2
TextureOrigin   = (0, 2048, 0)

[playerWalkRight]
KeyDuration     = 0.1
TextureOrigin   = (0, 0, 0)

[playerIdleLeft]
KeyDuration     = 0.2
TextureOrigin   = (4096, 2048, 0)

[playerWalkLeft]
KeyDuration     = 0.1
TextureOrigin   = (0, 1024, 0)

[playerIdleRightPistol]
KeyDuration     = 0.2
TextureOrigin   = (0, 3072, 0)

[playerIdleLeftPistol]
KeyDuration     = 0.2
TextureOrigin   = (4096, 3072, 0)

[playerWalkRightPistol]
KeyDuration     = 0.1
TextureOrigin   = (0, 4096, 0)

[playerWalkLeftPistol]
KeyDuration     = 0.1
TextureOrigin   = (0, 5120, 0)

[playerIdleRightRifle]
KeyDuration     = 0.2
TextureOrigin   = (0, 6144, 0)

[playerIdleLeftRifle]
KeyDuration     = 0.2
TextureOrigin   = (4096, 6144, 0)

[playerWalkRightRifle]
KeyDuration     = 0.1
TextureOrigin   = (0, 7168, 0)

[playerWalkLeftRifle]
KeyDuration     = 0.1
TextureOrigin   = (0, 8192, 0)

[playerBody]
Dynamic         = true
PartList        = playerBodyPart
LinearDamping   = 5

[playerBodyPart]
Type            = box
Solid           = true
SelfFlags       = player
CheckMask       = platforms # weapons
BottomRight     = (200, 383, 0)
TopLeft         = (-140, -125, 0)

[spiderObject]
LeftSpeed       = (-19, 0, 0)
RightSpeed      = (19, 0, 0)
Graphic         = spiderGraphic
Scale           = 0.2
Position        = (800, 275, 0) ~ (-800, 275, 0)
AnimationSet    = spiderAnimationSet
Body            = enemyBody

[spiderGraphic]
Texture         = spider_full.png
TextureOrigin   = (0, 0, 0)  
TextureSize     = (0, 0, 0)
Pivot           = center

[enemyAnimationSet]
Pivot           = center
KeyDuration     = 0.1
FrameSize       = (1024, 1024, 0)
WalkRight       = 5
WalkLeft        = 5

StartAnim       = WalkLeft

WalkLeft->      = WalkLeft # .WalkRight # .DeadRight # .DeadLeft
WalkRight->     = WalkRight # .WalkLeft # .DeadRight # .DeadLeft

DeadLeft->      = DeadLeft # .DeadRight # .WalkLeft # .WalkRight
DeadRight->     = DeadRight # .DeadLeft # .WalkLeft # .WalkRight

[WalkLeft]
TextureOrigin   = (0, 1024, 0)

[WalkRight]
TextureOrigin   = (0, 0, 0)

[DeadLeft]
TextureOrigin   = (0, 3072, 0)

[DeadLeft6]
KeyEvent        = Object.SetLifeTime ^ 0

[DeadRight]
TextureOrigin   = (0, 2048, 0)

[spiderAnimationSet@enemyAnimationSet]
Texture         = spider_full.png

[enemyBody]
Dynamic         = true
PartList        = enemyBodyPart
LinearDamping   = 5

[enemyBodyPart]
Type            = box
Solid           = true
SelfFlags       = enemy
CheckMask       = platforms # bullet
BottomRight     = (225, 100, 0)
TopLeft         = (-200, -175, 0)

[pistolObject]
Graphic         = pistolGraphic
Scale           = 0.2
Position        = (250, 275, 0)
Body            = pistolBody

[pistolGraphic]
Texture         = pistol.png
TextureSize     = (1024, 1024, 0)
Pivot           = center

[pistolBody]
Dynamic         = falses
PartList        = pistolBodyPart

[pistolBodyPart]
Type            = box
Solid           = false
SelfFlags       = weapons
CheckMask       = player
BottomRight     = (200, 200, 0)
TopLeft         = (-200, -200, 0)

[rifleObject]
Graphic         = rifleGraphic
Scale           = 0.2
Position        = (500, 300, 0)
Body            = rifleBody

[rifleGraphic]
Texture         = rifle.png
TextureSize     = (1024, 1024, 0)
Pivot           = center

[rifleBody]
Dynamic         = false
PartList        = rifleBodyPart

[rifleBodyPart]
Type            = box
Solid           = false
SelfFlags       = weapons
CheckMask       = player
BottomRight     = (200, 100, 0)
TopLeft         = (-200, -300, 0)

[playersPistol]
Spawner         = pistolBulletSpawner
Position        = (0, 0, 0)

[bulletGraphic]
Texture         = bullet.png
 
[pistolBulletObject]
Graphic         = bulletGraphic
LifeTime        = 0.7
Scale           = 0.4
Body            = bulletBody

[pistolBulletSpawner]
Object          = pistolBulletObject
WaveSize        = 1
WaveDelay       = 0.17 
Position        = (120, -125, 0)
ObjectSpeed     = (5000, 0, 0)
UseRelativeSpeed= true

[playersRifle]
Spawner         = rifleBulletSpawner
Position        = (0, 0, 0)

[rifleBulletObject]
Graphic         = bulletGraphic
LifeTime        = 1.0
Scale           = 0.5
Body            = bulletBody

[rifleBulletSpawner]
Object          = rifleBulletObject
WaveSize        = 1
WaveDelay       = 0.1
Position        = (65, -125, 0)
ObjectSpeed     = (5000, 0, 0)
UseRelativeSpeed= true

[bulletBody]
Dynamic         = false
PartList        = bulletBodyPart
LinearDamping   = 5

[bulletBodyPart]
Type            = box
Solid           = false
SelfFlags       = bullet
CheckMask       = enemy
BottomRight     = (650, 600, 0)
TopLeft         = (200, 475, 0)


[spaceShipMiddlePlatformGraphic]
Texture         = Spaceship_platform_middle.png
 
[spaceShipMiddlePlatformObject]
Graphic         = spaceShipMiddlePlatformGraphic
Position        = (-640, 333, 0)
Scale           = (2.01, 0.3, 0)
Repeat          = (9, 1, 0)
Body            = PlatformBody

[PlatformBody]
Dynamic         = false
PartList        = PlatformBodyPart
 
[PlatformBodyPart]
Type            = box
Solid           = true
SelfFlags       = platforms
CheckMask       = player # enemy
BottomRight     = (1020, 145, 0)
TopLeft         = (0, 10, 0)
